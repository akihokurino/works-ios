query GetMe {
	me {
		...MeFragment
	}
}

query GetInvoiceList($supplierId: String!) {
	invoiceList(supplierId: $supplierId) {
		edges {
			node {
				...InvoiceFragment
			}
		}
	}
}

query GetInvoiceHistoryList {
	invoiceHistoryList {
		edges {
			node {
				...InvoiceHistoryFragment
			}
		}
	}
}

mutation Authenticate {
	authenticate {
		...MeFragment
	}
}

mutation CreateSupplier($name: String!, $billingAmount: Int!, $billingType: GraphQLBillingType!, $subject: String!) {
	createSupplier(input: {
		name: $name,
		billingAmount: $billingAmount,
		billingType: $billingType,
		subject: $subject,
	}) {
		...SupplierFragment
	}
}

mutation UpdateSupplier($id: String!, $name: String!, $billingAmount: Int!, $subject: String!) {
	updateSupplier(input: {
		id: $id,
		name: $name,
		billingAmount: $billingAmount,
		subject: $subject,
	}) {
		...SupplierFragment
	}
}

mutation DeleteSupplier($id: String!) {
	deleteSupplier(input: {
		id: $id
	})
}

mutation DownloadInvoicePDF($invoiceId: String!) {
	downloadInvoicePdf(input: {
		invoiceId: $invoiceId,
	})
}

mutation connectMisoca($code: String!) {
	connectMisoca(input: {
		code: $code,
	})
}

mutation refreshMisoca {
	refreshMisoca
}

fragment MeFragment on Me {
	id
	suppliers {
		edges {
			node {
				...SupplierFragment
			}
		}
	}
}

fragment SupplierFragment on Supplier {
	id
	name
	billingAmountIncludeTax
	billingAmountExcludeTax
	billingType
	subject
}

fragment InvoiceFragment on Invoice {
	id
	issueYmd
	paymentDueOnYmd
	invoiceNumber
	paymentStatus
	invoiceStatus
	recipientName
	subject
	totalAmount
	tax
}

fragment InvoiceHistoryFragment on InvoiceHistory {
	invoice {
		id
		issueYmd
		paymentDueOnYmd
		invoiceNumber
		paymentStatus
		invoiceStatus
		recipientName
		subject
		totalAmount
		tax
	}
	supplier {
		id
		name
		billingAmountIncludeTax
		billingAmountExcludeTax
		billingType
		subject
	}
}

